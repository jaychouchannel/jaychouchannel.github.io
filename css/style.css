/* 样式：重写导航与文章页布局，重点修复以前的显示问题 */
/* 说明：将导航内的链接样式局部化，避免全局 a 覆盖；不强制 nav 高度，由 js 在运行时写入 --nav-height；响应式布局兼容。 */

:root{
  --site-max-width: 1200px;
  --nav-height: 64px; /* initial fallback, will be updated by js */
  --bg: #0f1724;
  --card: #11121b;
  --accent: #3b82f6;
  --muted: #94a3b8;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;background:linear-gradient(180deg,#07070b 0%, #0f1724 100%);color:#e6eef8;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial,'Noto Sans SC',sans-serif;}

.container{max-width:var(--site-max-width);margin:0 auto;padding:0 16px}

/* NAV */
.site-nav{
  position:fixed;
  top:0;left:0;right:0;
  z-index:999;
  background:rgba(12,14,25,0.88);
  backdrop-filter:blur(8px);
  -webkit-backdrop-filter:blur(8px);
  border-bottom:1px solid rgba(255,255,255,0.03);
  box-shadow:0 6px 14px rgba(3,7,18,0.6);
}

/* nav inner container */
.nav-container{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:12px 0;
  /* prevent wrap causing unpredictable height */
  flex-wrap:nowrap;
}

/* left: logo */
.nav-left{display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit;}
.nav-badge{width:44px;height:44px;border-radius:50%;background:linear-gradient(90deg,var(--accent),#8b5cf6);display:flex;align-items:center;justify-content:center;font-size:18px;color:#fff;flex-shrink:0;}
.nav-brand{display:flex;flex-direction:column;line-height:1;}
.brand-main{font-weight:700;color:#fff;white-space:nowrap}
.brand-subword{color:var(--muted);margin-left:4px}
.brand-tag{font-size:12px;color:rgba(226,232,240,0.6);margin-top:4px;white-space:nowrap}

/* center links */
.nav-center{display:flex;gap:18px;align-items:center;justify-content:center;flex:1}
.nav-link{color:rgba(226,232,240,0.9);text-decoration:none;padding:8px 10px;border-radius:6px;white-space:nowrap;transition:all .18s ease}
.nav-link:hover{color:var(--accent);transform:translateY(-2px);text-decoration:none}
.nav-active{color:var(--accent);box-shadow:0 6px 14px rgba(59,130,246,0.06);border-bottom:2px solid rgba(59,130,246,0.28)}

/* right controls */
.nav-right{display:flex;align-items:center;gap:10px;flex-shrink:0}
.nav-search{display:flex;align-items:center;background:rgba(255,255,255,0.03);padding:6px;border-radius:999px;border:1px solid rgba(255,255,255,0.02)}
.nav-search input{background:transparent;border:0;color:inherit;padding:6px 8px;width:180px;outline:none}
.btn-icon{background:linear-gradient(90deg,var(--accent),#8b5cf6);border:none;color:#fff;border-radius:999px;padding:7px 9px;cursor:pointer}
.btn{padding:8px 12px;border-radius:8px;text-decoration:none;color:inherit;border:1px solid rgba(255,255,255,0.04)}
.btn-primary{background:linear-gradient(90deg,var(--accent),#8b5cf6);color:#fff;border:none}
.btn-outline{border:1px solid rgba(255,255,255,0.06);background:transparent}

/* mobile toggle */
.mobile-toggle{display:none;background:rgba(255,255,255,0.02);border:0;padding:8px;border-radius:8px;color:inherit;cursor:pointer}
.mobile-toggle i{font-size:18px}

/* mobile menu (hidden by default) */
.mobile-menu{position:fixed;top:0;left:0;bottom:0;width:280px;transform:translateX(-100%);transition:transform .28s ease;z-index:998;background:linear-gradient(180deg,#071026, #0b1020);box-shadow:6px 0 30px rgba(2,6,26,0.6)}
.mobile-menu.open{transform:translateX(0)}
.mobile-menu-inner{padding:18px}
.mobile-close{background:transparent;border:0;color:inherit;font-size:18px;padding:6px;cursor:pointer}
.mobile-links{display:flex;flex-direction:column;gap:12px;margin-top:12px}
.mobile-links a{color:#e6eef8;text-decoration:none;padding:10px;border-radius:6px}

/* layout: main content and sidebar */
.page-container{display:flex;gap:24px;padding-top:var(--nav-height);padding-bottom:48px}
.content-col{flex:1;min-width:0}
.sidebar-col{width:320px;flex-shrink:0}

/* article card/content */
.article{background:transparent;padding:24px;border-radius:12px}
.article-title{font-size:28px;margin:0 0 8px 0;color:#fff}
.article-meta{color:var(--muted);font-size:14px;margin-bottom:12px}
.article p{color:rgba(226,232,240,0.9);line-height:1.7}
.article-tags{margin-top:18px;display:flex;gap:8px;flex-wrap:wrap}
.article-tags a{font-size:13px;color:var(--muted);background:rgba(255,255,255,0.02);padding:6px 8px;border-radius:8px;text-decoration:none}

/* code blocks */
.code-block{background:#0b1220;border:1px solid rgba(255,255,255,0.03);padding:12px;border-radius:8px;overflow:auto;color:#e6eef8;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Monospace;font-size:13px}

/* side author card */
.author-card{background:var(--card);padding:18px;border-radius:10px;text-align:center}
.author-avatar{width:84px;height:84px;border-radius:50%;object-fit:cover;margin:0 auto 12px;display:block}

/* footer */
.site-footer{border-top:1px solid rgba(255,255,255,0.02);padding:28px 0;color:var(--muted);text-align:center}

/* small-screen responsive */
@media (max-width: 980px) {
  .sidebar-col{display:none}
  .page-container{padding-top:calc(var(--nav-height) + 12px);flex-direction:column}
  .nav-center{display:none} /* hide center links on narrow screens */
  .mobile-toggle{display:inline-flex}
  .nav-search input{width:110px}
  .nav-right .btn-about{display:none}
}

/* Tight scoping: make sure nav styles win over global link styles without !important abuse */
#site-nav a{color:inherit;text-decoration:none}